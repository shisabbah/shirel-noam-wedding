<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shirel & Noam - Invitation Mariage</title>
    <!-- Open Graph / Social preview -->
    <meta property="og:title" content="Invitation mariage Shirel & Noam" />
    <meta property="og:description" content="Vous √™tes invit√© au mariage de Shirel et Noam le 25 f√©vrier." />
    <meta property="og:image" content="https://shisabbah.github.io/shirel-noam-wedding/logo.png" />
    <meta property="og:url" content="https://shisabbah.github.io/shirel-noam-wedding/" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="fr_FR" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Invitation mariage Shirel & Noam" />
    <meta name="twitter:description" content="Vous √™tes invit√© au mariage de Shirel et Noam le 25 f√©vrier." />
    <meta name="twitter:image" content="https://shisabbah.github.io/shirel-noam-wedding/logo.png" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="first-page" id="firstPage">
        <img src="new-accueil.png" alt="Accueil" class="fullscreen-image clickable" id="part1">
    </div>
    <div class="scroll-container hidden" id="scrollContainer">
        <button class="nav-button nav-prev" id="prevPage" aria-label="Page pr√©c√©dente">‚Äπ</button>
        <div class="image-wrapper">
            <img src="mairie.png" alt="Mairie" class="scroll-image active">
            <img src="henne.png" alt="Henne" class="scroll-image">
            <img src="houppa.png" alt="Houppa" class="scroll-image">
            <div class="scroll-image form-container" style="background-image: url('form.png'); background-size: contain; background-position: center; background-repeat: no-repeat;">
                <form class="wedding-form" id="weddingForm">
                    <h2 class="form-title">R√©pondez √† l'invitation</h2>
                    
                    <div class="form-group">
                        <label for="prenom">Pr√©nom</label>
                        <input type="text" id="prenom" name="prenom" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="nom">Nom</label>
                        <input type="text" id="nom" name="nom" required>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <div class="checkboxes">
                            <div class="event-item">
                                <label for="nb_mairie" class="event-title">Mairie</label>
                                <input type="number" name="nb_mairie" id="nb_mairie" min="0" value="0" class="event-number">
                            </div>
                            <div class="event-item">
                                <label for="nb_henne" class="event-title">Henn√©</label>
                                <input type="number" name="nb_henne" id="nb_henne" min="0" value="0" class="event-number">
                            </div>
                            <div class="event-item">
                                <label for="nb_mariage" class="event-title">Mariage</label>
                                <input type="number" name="nb_mariage" id="nb_mariage" min="0" value="0" class="event-number">
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">Envoyer</button>
                </form>
            </div>
        </div>
        <button class="nav-button nav-next" id="nextPage" aria-label="Page suivante">‚Ä∫</button>
        <div class="page-indicator" id="pageIndicator">1 / 4</div>
    </div>
    <script>
        const part1 = document.getElementById('part1');
        const firstPage = document.getElementById('firstPage');
        const scrollContainer = document.getElementById('scrollContainer');
        const scrollImages = Array.from(document.querySelectorAll('.scroll-image'));
        const prevPageBtn = document.getElementById('prevPage');
        const nextPageBtn = document.getElementById('nextPage');
        const pageIndicator = document.getElementById('pageIndicator');
        let currentIndex = 0;

        part1.addEventListener('click', function() {
            firstPage.style.opacity = '0';
            firstPage.style.transform = 'scale(0.95)';
            setTimeout(() => {
                firstPage.classList.add('hidden');
                scrollContainer.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }, 300);
        });

        function updatePages(direction) {
            scrollImages.forEach((img, index) => {
                img.classList.remove('active', 'from-left', 'from-right');
                if (index === currentIndex) {
                    img.classList.add('active');
                    if (direction === 'next') img.classList.add('from-right');
                    if (direction === 'prev') img.classList.add('from-left');
                }
            });
            if (pageIndicator) {
                pageIndicator.textContent = (currentIndex + 1) + ' / ' + scrollImages.length;
            }
            if (prevPageBtn && nextPageBtn) {
                prevPageBtn.disabled = currentIndex === 0;
                nextPageBtn.disabled = currentIndex === scrollImages.length - 1;
            }
        }

        if (prevPageBtn && nextPageBtn) {
            prevPageBtn.addEventListener('click', function () {
                if (currentIndex > 0) {
                    currentIndex--;
                    updatePages('prev');
                }
            });

            nextPageBtn.addEventListener('click', function () {
                if (currentIndex < scrollImages.length - 1) {
                    currentIndex++;
                    updatePages('next');
                }
            });
        }

        // Navigation clavier (fl√®ches)
        document.addEventListener('keydown', function (e) {
            if (scrollContainer.classList.contains('hidden')) return;
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                if (currentIndex < scrollImages.length - 1) {
                    currentIndex++;
                    updatePages('next');
                }
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                if (currentIndex > 0) {
                    currentIndex--;
                    updatePages('prev');
                }
            }
        });

        // Initialisation
        updatePages();

        // Gestion du formulaire
        const weddingForm = document.getElementById('weddingForm');
        if (weddingForm) {
            const nbMairie = document.getElementById('nb_mairie');
            const nbHenne = document.getElementById('nb_henne');
            const nbMariage = document.getElementById('nb_mariage');
            
            weddingForm.addEventListener('submit', function(e) {
    e.preventDefault();

    const formData = new FormData();
    formData.append("prenom", document.getElementById('prenom').value);
    formData.append("nom", document.getElementById('nom').value);
    formData.append("nb_mairie", document.getElementById('nb_mairie').value);
    formData.append("nb_henne", document.getElementById('nb_henne').value);
    formData.append("nb_mariage", document.getElementById('nb_mariage').value);

    fetch("https://script.google.com/macros/s/AKfycby3v4vpL0UjqJSlQ3FqmYOl63Breg3NB_Tmxi8-CQ4gtUYTZja8kEOvUi2PWMMotpnFRA/exec", {
        method: "POST",
        body: formData
    })
    .then(() => {
        alert("Merci üíï Votre r√©ponse a bien √©t√© enregistr√©e");
        weddingForm.reset();
        document.getElementById('nb_mairie').value = 0;
        document.getElementById('nb_henne').value = 0;
        document.getElementById('nb_mariage').value = 0;
    })
    .catch(() => {
        alert("Erreur üò¢ Merci de r√©essayer");
    });
});

        }
    </script>
</body>
</html>
